# Test

## 1. X-load

### Legend:

- ?_s2?: `SELECT ... INTO`
- ?_is?: `INSERT INTO ... SELECT`
- ?_??r[aw]: money = money
- ?_??s[um]: money = SUM(money) ... GROUP BY
+ 'turbo' = ?_s2s
+ 'simple' = ?_s2r
+ 'ins' = ?_isr

### Results:

\#    | T_ld | Tidx | Tall | DUraw | DUtxo | DUidx | DUtmp |  Records  |
------|-----:|-----:|-----:|------:|------:|------:|------:|----------:|
2_s2s | 1148 |  124 | 1272 | 13446 |  1279 |  2297 | 13600 |  26231270 |
2_iss |  683 |   95 |  778 | 13446 |  1279 |  2297 |  3844 |  26231270 |
2_s2r |  665 |  383 | 1048 | 13446 |  2558 |  4492 |  3847 |  52356696 |
2_isr |  715 |  403 | 1118 | 13446 |  2558 |  4492 |  3844 |  52356696 |
4_s2s | 2560 |  611 | 3171 | 84725 | 10872 | 19199 | 82455 | 220965455 |
4_iss | 2586 |  856 | 3442 | 84725 | 10868 | 18954 | 23544 | 220965455 |
4_s2r | 3288 | 1387 | 4675 | 84725 | 16205 | 28377 | 72029 | 330788828 |
4_isr | 2250 | 1500 | 3750 | 84725 | 16205 | 28378 | 23556 | 330788828 |
i5_s2s| 5286 | 1981 | 7267 |       |       |       |       |        |

### Timing:

- 4_s2s: 66'06"+747"
- 4_iss: 43'06,
- 4_s2r: 59'57"
- 4_isr: 37'29"+25'01"
- 2_s2s: 23'56"+145"
- 2_iss: 17'36"

### Notes:

- du_raw: w/o txo
- du_txo: &Delta; base size right after import
- du_idx: &Delta; of idx only
- du_tmp: max size of $PGSQL/.../pgsql_tmp/ (~= txo+idx (excepting s2s))
- du_max: = du_raw+du_txo+du_tmp (4_s2s: 178035)
- txo: 51.6 bytes/rec (real=4+4+4+8=20)

## 2. Queries

### Legend:

- t: table
- v: view
- 2x:  250k @ i G3450   (2 x 3.4 GHz), HDD
- 4x:  400k @ i7-4790   (4 x 3.6 GHz), HDD
- a5x: 500k @ FX-4100   (4 x 3.8 GHz), SDD
- i5x: 500k @ E5-2650v2 (8 x 2.6 GHz), SDD

### Results:

Query         |  2t |  2v |   4t |   4v |  a5t |  a5v |  i5t |  i5v |
--------------|----:|----:|-----:|-----:|-----:|-----:|-----:|-----:|
raw\_sum_txo  |  17 |  17 |   97 |   80 |   98 |   97 |  141 |  133 |
raw_top       | 439 | 367 |  589 |  792 | 1093 | 1327 |  861 |  964 |
raw_utxo      | 478 | 357 | 1539 | 1959 | 4203 | 4521 | 3247 | 2941 |
raw\_utxo_no0 | 383 | 421 | 1576 | 2493 | 5335 | 5607 | 3922 | 3987 |
raw\_utxo_noM | 634 | 592 | 1929 | 1918 | 4460 | 4493 | 3058 | 3139 |
txo\_sum_txo  |  10 | 461 |   65 |  906 |   80 | 2218 |   62 | 1257 |
txo_top       |   3 | 433 |    7 |  727 |   12 | 1321 |   15 |  775 |
txo_utxo      |  75 | 568 |  618 | 3059 | 4999 | 6739 | 4166 | 4882 |
addr_gt       |  29 | 451 |  134 |  673 | ---- | ---- | ---- | ---- |
addr\_btc_max |  10 | 726 |    8 | 1435 |  116 | 3873 |   82 | 1888 |
addr\_btc_min |   6 | 811 |    7 | 1424 |  102 | 3823 |   71 | 2366 |
addr\_cnt_max |   6 | 744 |    8 | 1453 |   96 | 3823 |   65 | 2403 |
addr\_cnt_min |   6 | 827 |    8 | 1436 |  103 | 3875 |   73 | 2021 |
alist\_btc_gt |   4 | 783 |    5 | 1443 |   45 | 3847 |   30 | 2503 |
alist\_btc_lt |   4 | 760 |    5 | 1431 |   44 | 3772 |   29 | 2084 |
alist\_cnt_gt |   4 | 734 |    5 | 1451 |   45 | 3831 |   30 | 2420 |
alist\_cnt_lt |   4 | 770 |    5 | 1446 |   45 | 3771 |   29 | 2455 |
alist_moves   |   5 | 767 |    6 | 1439 |   90 | 3843 |   31 | 2260 |

## 3. Compare

\# |2t |2v |4t |4v
---|:-:|:-:|:-:|:-:
2t | × | × | × | ×
2v | + | × | × | ×
4t | + | + | × | ×
4v |   |   |   | ×

### Notes:

- 2t/2v: txo_utxo diff
- 2t/4t: txo_utxo adds
- 2v/4t: txo_utxo diff+add

U+000B1 &#xb1; &#177; \00B1
